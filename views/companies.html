<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Users</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="styles/companies.css">
        <script>
            $(document).ready(function () {
                $("#addnew").on("click", function(){
                    const name = $("#companyname").val();                    
                    const desc = $("#desc").val();
                    const industry = $("#industry").val();

                    const streetno = $("#streetno").val();                    
                    const street = $("#street").val();
                    const city = $("#city").val();

                    const province = $("#province").val();
                    const postcode = $("#postcode").val();

                    const currentdate = new Date();
                    const createdate = currentdate.toLocaleString();
console.log("createdate = " + createdate);
                    var company = {
                        name : name,
                        description : desc,
                        industry : industry,
                        streetno : streetno,
                        street : street,
                        city : city,
                        province : province,
                        postcode : postcode,
                        ceate_date : createdate,
                    };

                    $.ajax({
                        url:"/api/companies/",
                        type:"post",
                        dataType:"json",
                        data:company,
                        error: function (jqxhr, status, errorThrown) {
                        alert("AJAX error: " + jqxhr.responseText);
                        }
                    }).done(function(company){

                    });
                });
            });

        </script>
    </head>
    <body>
        <div id="listedContent">
            <div id="listPane">
                    <label for="companyname">Company Name: </label>
                    <input type="text" id = "companyname" required>

                    <label for="desc">Description: </label>
                    <textarea id = "desc" ></textarea>

                    
                    <label for="industry">Industry: </label>
                    <select id="industry">
                        <option value="Finance">Finance</option>
                        <option value="Chemical">Chemical</option>
                        <option value="Agriculture">Agriculture</option>
                        <option value="Manufacturing">Manufacturing</option>
                        <option value="Jewelry">Jewelry</option>
                        <option value="Publishing">Publishing</option>
                        <option value="Technology">Technology</option>
                        <option value="Automotive">Automotive</option>
                        <option value="Education">Education</option>
                        <option value="Hospitality">Hospitality</option>
                    </select>

                    <label for="streetno">Street No: </label>
                    <input type="text" id = "streetno" required>

                    <label for="street">Street: </label>
                    <input type="text" id = "street" required>

                    <label for="city">City: </label>
                    <input type="text" id = "city" required>

                    <label for="province">Province: </label>
                    <input type="text" id = "province" required>

                    <label for="postcode">Postcode: </label>
                    <input type="text" id = "postcode" required>

                    <button id="addnew">Add</button>

            </div>
        </div>
        
    </body>
</html>